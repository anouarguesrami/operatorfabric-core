<!-- Copyright (c) 2018-2020, RTE (http://www.rte-france.com)              -->
<!-- See AUTHORS.txt                                                       -->
<!-- This Source Code Form is subject to the terms of the Mozilla Public   -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this   -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/.              -->
<!-- SPDX-License-Identifier: MPL-2.0                                      -->
<!-- This file is part of the OperatorFabric project.                      -->



<ng-template #filterTypeContent>
    <div class="row filter-header">
        <span translate>feed.filters.type.title</span>
    </div>
    <form [formGroup]="typeFilterForm" id="type-filter-form">
        <div class="form-group form-check">
            <input type="checkbox" id="type-alarm" class="form-check-input" formControlName="alarm">
            <label for="type-alarm" class="form-check-label label-sev-alarm"
                translate>feed.filters.type.alarm.label</label>
        </div>
        <div class="form-group form-check">
            <input type="checkbox" id="type-action" class="form-check-input" formControlName="action">
            <label for="type-action" class="form-check-label label-sev-action"
                translate>feed.filters.type.action.label</label>
        </div>
        <div class="form-group form-check">
            <input type="checkbox" id="type-compliant" class="form-check-input" formControlName="compliant">
            <label for="type-compliant" class="form-check-label label-sev-compliant"
                translate>feed.filters.type.compliant.label</label>
        </div>
        <div class="form-group form-check">
            <input type="checkbox" id="type-information" class="form-check-input" formControlName="information">
            <label for="type-information" class="form-check-label label-sev-information"
                translate>feed.filters.type.information.label</label>
        </div>
    </form>
    <div *ngIf="!(hideAckFilter)">
        <div class="row filter-header">
            <span translate>feed.filters.ack.title</span>
        </div>
        <form [formGroup]="ackFilterForm" id="ack-filter-form">
            <div class="form-group form-check">
                <input type="radio" id="ack-all" class="form-check-input" formControlName="ackControl" value="all">
                &nbsp;
                <label for="ack-all" class="form-check-label" translate>feed.filters.ack.all.label</label>
            </div>
            <div class="form-group form-check">
                <input type="radio" id="ack-ack" class="form-check-input" formControlName="ackControl" value="ack">
                &nbsp;
                <label for="ack-ack" class="form-check-label" translate>feed.filters.ack.acknowledged.label</label>
            </div>
            <div class="form-group form-check">
                <input type="radio" id="ack-notack" class="form-check-input" formControlName="ackControl"
                    value="notack">
                &nbsp;
                <label for="ack-notack" class="form-check-label"
                    translate>feed.filters.ack.notacknowledged.label</label>
            </div>

        </form>
    </div>
    <div *ngIf="!(hideTimerTags)">

        <div class="row filter-header" *ngIf="filterByPublishDate">
            <span translate>feed.filters.time.titleIfFilterBasedOnPublishDate</span>
        </div>
        <div class="row filter-header" *ngIf="!filterByPublishDate">
            <span translate>feed.filters.time.titleIfFilterBasedOnBusinessDate</span>
        </div>

        <form [formGroup]="timeFilterForm" id="time-filter-form">

            <div class="row" style="margin-left: 2px; margin-right: 2px;">
                <div class="form-group" id="start">
                    <of-datetime-filter id="dateTimeFrom"  (change)="onDateTimeChange($event)" filterPath="start.label" formControlName="dateTimeFrom"
                        labelKey="feed.filters.time."></of-datetime-filter>
                </div>
            </div>

            <div class="row" style="margin-left: 2px; margin-right: 2px;">
                <div class="form-group" id="end">
                    <of-datetime-filter id="dateTimeTo" filterPath="end.label" formControlName="dateTimeTo"
                        labelKey="feed.filters.time." (change)="onDateTimeChange($event)"></of-datetime-filter>
                </div>

            </div>
        </form>
    </div>
</ng-template>





<ng-template #filterTypeTitle><span translate>feed.filters.type.title</span></ng-template>
<button type="button" class="btn btn-outline-secondary p-1 mr-1 border-0 " placement="bottom-left"
    [ngbPopover]="filterTypeContent" container="body" [autoClose]="'outside'">
    <div class="opfab-menu-icon opfab-icon-filter"></div>
    
</button>